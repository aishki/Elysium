<?php
// Mock database of valid TIN numbers and corresponding company names
$validTINs = array(
    '001901673-000' => 'SMART COMMUNICATIONS INCORPORATED',
    '000101528-000' => 'MANILA ELECTRIC COMPANY "MERALCO"',
    '000662551-000' => 'SHELL PHILIPPINES EXPLORATION, B.V.',
    '206136596-000' => 'CHEVRON MALAMPAYA LLC',
    '000421786-000' => 'NESTLE PHILIPPINES INC',
    '006807251-000' => 'SAN MIGUEL BREWERY INC.',
    '000768480-000' => 'GLOBE TELECOM, INC.',
    '007515588-000' => 'PMFTC INC',
    '000168801-000' => 'PETRON CORPORATION',
    '000283731-000' => 'PHILEX MINING CORP',
    '004470601-000' => 'FIRST GAS POWER CORPORATION',
    '000164757-000' => 'PILIPINAS SHELL PETROLEUM CORPORATION',
    '005038428-000' => 'MANILA WATER COMPANY, INC.',
    '003841103-000' => 'TEAM SUAL CORPORATION',
    '000342744-000' => 'UNILEVER PHILIPPINES,INC.',
    '000887972-000' => 'PHILIPPINE AMUSEMENT AND GAMING CORPORATION',
    '000237540-000' => 'LAFARGE REPUBLIC, INC.',
    '005017501-000' => 'SAN ROQUE POWER CORPORATION',
    '238684383-000' => 'EMPERADOR DISTILLERS, INC.',
    '004625830-000' => 'CITRA METRO MANILA TOLLWAYS CORPORATION',
    '000142665-000' => 'RIO TUBA NICKEL MINING CORP',
    '000417352-000' => 'MONDE NISSIN CORPORATION',
    '000144976-000' => 'SUPERVALUE, INC.',
    '005578576-000' => 'KEPCO ILIJAN CORPORATION (KEILCO)',
    '000415713-000' => 'TOYOTA MOTOR PHILS CORP',
    '000352232-000' => 'PHILIPPINE PORTS AUTHORITY',
    '004500931-000' => 'CE CASECNAN WATER AND ENERGY COMPANY.INC.',
    '000121507-000' => 'HOLCIM PHILIPPINES, INC.',
    '000063471-000' => 'UNITED LABORATORIES,INC.',
    '005582782-000' => 'SIEMENS POWER OPERATIONS INC',
    '000361376-000' => 'ROBINSONS LAND CORP',
    '201277095-000' => 'PUREGOLD PRICE CLUB, INC.',
    '005011427-000' => 'FGP CORP.',
    '003956294-000' => 'HEWLETT-PACKARD PHILS CORP',
    '000132413-000' => 'ASIAN TERMINALS INCORPORATED',
    '000132078-000' => 'MEAD JOHNSON NUTRITION (PHILIPPINES), INC.',
    '000156309-000' => 'COLGATE PALMOLIVE PHILIPPINES INCORPORATED',
    '000166324-000' => 'CHEVRON GEOTHERMAL PHILIPPINES HOLDINGS, LLC',
    '240972547-000' => 'SAN MIGUEL MILLS, INC.',
    '000917916-000' => 'GMA NETWORK INC',
    '000553043-000' => 'DAVAO LIGHT AND POWER CO., INC.',
    '004984946-000' => 'MANILA NORTH TOLLWAYS CORPORATION',
    '004819790-000' => 'ING BANK N.V.',
    '000488662-000' => 'PHILIPPINE DEPOSIT INSURANCE CORPORATION',
    '225353447-000' => 'SAN MIGUEL ENERGY CORPORATION',
    '000444734-000' => 'CITIBANK, N.A.',
    '000150609-000' => 'WYETH PHILIPPINES INC',
    '000533224-000' => 'FILINVEST LAND INC',
    '209609185-000' => 'SUPER SHOPPING MARKET, INC.',
    '004707554-000' => 'FORT BONIFACIO DEVELOPMENT CORP',
    '000145459-000' => 'TAGANITO MINING CORP',
    '000086108-000' => 'TANDUAY DISTILLERS INC',
    '000107629-000' => 'AVON COSMETICS INCORPORATED',
    '002243275-000' => 'TEAM (PHILIPPINES) ENERGY CORPORATION',
    '000566230-000' => 'VISAYAN ELECTRIC CO., INC.',
    '000323228-000' => 'INTERNATIONAL CONTAINER TERMINAL SERVICES INC',
    '000341915-000' => 'DM CONSUNJI INC',
    '000498020-000' => 'SECURITY BANK CORPORATION',
    '207961175-000' => 'SANFORD MARKETING CORPORATION',
    '000121242-000' => 'GOLDEN ARCHES DEVELOPMENT CORPORATION',
    '000282482-000' => 'PEPSI COLA FAR EAST TRADE DEV CO',
    '205933844-000' => 'PHILIP MORRIS PHILS MANUFACTURING INC(HERALD COMNL',
    '000064551-000' => 'THE COCA-COLA EXPORT CORPORATION',
    '001726870-000' => 'TEAM ENERGY CORPORATION',
    '001075676-000' => 'PHILIPPINE ECONOMIC ZONE AUTHORITY',
    '204929347-000' => 'PHILIPPINE GAMING MANAGEMENT CORPORATION',
    '201490355-000' => 'THE PUREFOODS-HORMEL COMPANY,INC',
    '211379144-000' => 'PROCTER & GAMBLE DISTRIBUTING (PHILIPPINES), INC.',
    '000492049-000' => 'PHIL RECLAMATION AUTHORITY (FORMLY: PEA)',
    '000172443-000' => 'ZUELLIG PHARMA CORPORATION',
    '246969491-000' => 'KAREILA MANAGEMENT CORPORATION',
    '005618513-000' => 'PACIFIC HYDRO PHILIPPINES, INC.',
    '000388771-000' => 'JOLLIBEE FOODS CORPORATION',
    '209152680-000' => 'MONDE M.Y. SAN CORPORATION',
    '201131797-000' => 'CITICORP FINANCIAL SVCS & INSCE BRKGE PHILS, INC.',
    '004818977-000' => 'ALVEO LAND CORP',
    '000225292-000' => 'BPI FAMILY SAVINGS BANK INC',
    '200512491-000' => 'CONCEPCION CARRIER AIR CONDITIONING COMPANY',
    '000159510-000' => 'FIRST ASIA REALTY DEVELOPMENT CORP',
    '201855591-000' => 'UNILEVER RFM ICE CREAM, INC.',
    '000110659-000' => 'CARGILL PHILIPPINES, INC.',
    '006618023-000' => 'MAXIMA MACHINERIES INC.',
    '000168702-000' => 'S C JOHNSON & SON INC',
    '005029187-000' => 'RCBC REALTY CORPORATION',
    '000166244-000' => 'PFIZER, INCORPORATED',
    '000099482-000' => 'MITSUBISHI MOTORS PHILS CORP',
    '000421836-000' => 'YAKULT PHILS INC',
    '000496108-000' => 'BANK OF MAKATI(A RURAL BANK),INC.(FMRLY:RURAL BANK',
    '000552486-000' => 'CITY SAVINGS BANK',
    '000291936-000' => 'CAGAYAN ELECTRIC POWER & LIGHT CO., INC.',
    '000409789-000' => 'KAWASAKI MOTORS (PHILS.) CORPORATION',
    '001097011-000' => 'P. J. LHUILLIER, INC.',
    '000409474-000' => 'JOHNSON & JOHNSON (PHILS) INC',
    '007198606-000' => 'ICONIC BEVERAGES INC',
    '000272097-000' => 'TAIHEIYO CEMENT PHILIPPINES, INC.',
    '003497848-000' => 'SM KEPPEL LAND, INCORPORATED',
    '000110015-000' => 'BOEHRINGER INGELHEIM (PHILIPPINES), INC.',
    '212875620-000' => 'HYUNDAI ASIA RESOURCES INC',
    '007069743-000' => 'FUNDLINE FINANCE CORPORATION',
    '000314436-000' => 'PILMICO FOODS CORPORATION',
    '236650400-000' => 'ISLA LPG CORPORATION',
    '005650138-000' => 'CAGDIANAO MINING CORPORATION',
    '000396225-000' => 'ARANETA CENTER, INC.',
    '000400016-000' => 'UNIVERSAL ROBINA CORPORATION',
    '000657059-000' => 'HOMEWORLD SHOPPING CORPORATION',
    '200035311-000' => 'ACE HARDWARE PHILIPPINES, INC.',
    '000270220-000' => 'VICTORIAS MILLING CO INC.',
    '000389266-000' => 'MERCURY GROUP OF COMPANIES INC',
    '004661556-000' => 'WESTERN MINDANAO POWER CORPORATION',
    '207826285-000' => 'TOLLWAYS MANAGEMENT CORPORATION',
    '000160134-000' => 'HINATUAN MINING CORPORATION',
    '000407656-000' => 'INTERNATIONAL ELEVATOR & EQUIPMENT, INCORPORATED',
    '000474529-000' => 'MANILA BAY DEVT CORP',
    '000489592-000' => 'PIONEER HI-BRED PHILIPPINES INC',
    '000996219-000' => 'PHILIPPINE FOREMOST MILLING CORPORATION',
    '006739089-000' => 'DMCI MINING CORPORATION',
    '000352409-000' => 'SHOPPING CENTER MANAGEMENT CORPORATION',
    '000409553-000' => 'KRAFT FOODS (PHILIPPINES) INC',
    '218735964-000' => 'NORTH TRIANGLE DEPOT COMMERCIAL CORPORATION',
    '000390189-000' => 'PHILIPPINE SEVEN CORPORATION',
    '000506020-000' => 'TRANS-ASIA OIL AND ENERGY DEVELOPMENT CORP',
    '004706120-000' => 'PHILIPPINE AUTO COMPONENTS INC',
    '004738553-000' => 'KEPCO PHILIPPINES CORPORATION',
    '004641985-000' => 'METRO DRUG INC',
    '000406761-000' => 'ABS-CBN CORPORATION',
    '000504444-000' => 'THE HONGKONG & SHANGHAI BANKING CORP. LTD',
    '000268847-000' => 'LOPEZ SUGAR CORP',
    '232715069-000' => 'MEGAWIDE CONSTRUCTION CORPORATION',
    '000291799-000' => 'DEL MONTE PHILIPPINES, INC.',
    '002116558-000' => 'SHANGRI-LA PLAZA CORPORATION',
    '000051391-000' => 'BAYER PHILIPPINES INCORPORATED',
    '000424722-000' => 'HAWAIIAN-PHILIPPINE COMPANY',
    '003865392-000' => 'PACIFIC ONLINE SYSTEMS CORPORATION',
    '200741954-000' => 'PHILIPPINE PIZZA, INC.',
    '003868048-000' => 'SPC POWER CORPORATION',
    '206988756-000' => 'BOSTIK PHILIPPINES, INC.',
    '000421615-000' => 'ASIAN TRANSMISSION CORPORATION',
    '000061237-000' => 'THE PROFESSIONAL SERVICES INC',
    '006592516-000' => 'CENTURY CITY DEVELOPMENT CORPORATION',
    '000086204-000' => 'STAR APPLIANCE CENTER INC',
    '000507842-000' => 'U C P B SAVINGS BANK INC',
    '000449586-000' => 'DEUTSCHE BANK AG, MANILA BRANCH',
    '000166818-000' => 'MORNING STAR MILLING CORPORATION',
    '000416871-000' => 'GREEN CROSS, INC.',
    '004914898-000' => 'FIRST CONSOLIDATED BANK, INC.',
    '003945022-000' => 'ALASKA MILK CORPORATION',
    '000133191-000' => 'MONSANTO PHILIPPINES, INCORPORATED',
    '000508100-000' => 'METROBANK CARD CORPORATION (A FINANCE COMPANY)',
    '000638968-000' => 'SOLID SHIPPING LINES CORP.',
    '000364400-000' => 'PACIFIC PAINT (BOYSEN) PHILIPPINES, INC.',
    '000551890-000' => 'CEBU HOLDINGS, INC.',
    '000385447-000' => 'MONARK EQUIPMENT CORPORATION',
    '202032390-000' => 'NIKE PHILIPPINES, INC.',
    '000432177-000' => 'ALABANG COMMERCIAL CORPORATION',
    '218664404-000' => 'ZENITH FOODS CORPORATION',
    '000142206-000' => 'SANOFI-AVENTIS PHILIPPINES INC.',
    '005035491-000' => 'HSBC SAVINGS BANK (PHILIPPINES) INC',
    '003933453-000' => 'UNISYS PUBLIC SECTOR SERVICES CORP',
    '000089206-000' => '3M PHILIPPINES, INC.',
    '000288655-000' => 'EURO MED LABORATORIES PHILS. INC.',
    '000422431-000' => 'ASIA BREWERY INC',
    '000813352-000' => 'PHILIPPINE RESOURCES SAVINGS BANKING CORPORATION',
    '201182812-000' => 'BDO CAPITAL & INVESTMENT CORPORATION',
    '000667234-000' => 'KSA REALTY CORPORATION',
    '001950215-000' => 'KEPPEL PHILIPPINES MARINE INC',
    '000473431-000' => 'MACTAN SHANGRI-LA HOTEL & RESORT, INC.',
    '005255399-000' => 'CEBU PRIVATE POWER CORPORATION',
    '219715396-000' => 'TOYOTA FINANCIAL SERVICES PHILIPPINES CORPORATION',
    '000281022-000' => 'WELLINGTON INVEST & MFG CORP',
    '000409854-000' => 'AMERICAN WIRE & CABLE CO INC',
    '000488051-000' => 'PHILIPPINE RACING CLUB, INC.',
    '000053097-000' => 'FIBERWORLD, INC.',
    '000294532-000' => 'CONSOLIDATED DISTILLERS OF THE FAR EAST, INC.',
    '225763754-000' => 'UNIVERSAL STOREFRONT SERVICES CORPORATION',
    '000530877-000' => 'EMIRATES',
    '000594807-000' => 'DEUTSCHE REGIS PARTNERS, INC.',
    '213545858-000' => 'SM MART, INC.',
    '288293147-000' => 'DELTA AIR LINES INC',
    '004119735-000' => 'CARD BANK INC (A MICROFINANCE ORIENTED RURAL BANK)',
    '241650638-000' => 'TRIDHARMA MARKETING CORPORATION',
    '007417235-000' => 'BENGUETCORP NICKEL MINES, INC.',
    '005283488-000' => 'LUZVIMINDA LAND HOLDINGS INC',
    '000057799-000' => 'MAJOR SHOPPING MANAGEMENT CORP.',
    '000803607-000' => 'THE PHILIPPINE DAILY INQUIRER, INC.',
    '000486050-000' => 'BDO LEASING AND FINANCE, INC.',
    '007086674-000' => 'PUREGOLD JUNIOR SUPERMARKET, INC.',
    '000316497-000' => 'MACQUARIE CAPITAL SECURITIES (PHILIPPINES)INC.',
    '224662496-000' => 'INTERBEV PHILIPPINES, INC.',
    '006346689-000' => 'ONE DELA ROSA PROPERTY DEVELOPMENT INC.',
    '000385916-000' => 'AVON PRODUCTS MFG INC',
    '000293083-000' => 'HOLCIM PHILIPPINES MANUFACTURING CORPORATION',
    '002394238-000' => 'MICHEL J. LHUILLIER FINANCIAL SVCS(PAWNSHOPS),INC.',
    '207642988-000' => 'NISHIMATSU CONSTRUCTION CO., LTD.',
    '000409675-000' => 'TELENGTAN BROTHERS & SONS, INC.',
    '004813382-000' => 'SMCC PHILS INC(FORMERLY:SUMICON PHIL CORP)',
    '005295692-000' => 'MCCONNELL DOWELL PHILS., INC.',
    '004262144-000' => 'TSUNEISHI HEAVY INDUSTRIES (CEBU), INC.',
    '000481720-000' => 'NEW WORLD INTERNATIONAL DEVELOPMENT PHILS., INC.'
);

// global: used to access a variable defined outside the scope of those functions.
// w/o it PHP would create a new local variable named $validTINs inside the function's scope

// Check if a TIN number exists in the mock database
function validateTIN($tin) {
    global $validTINs;
    return array_key_exists($tin, $validTINs);
}

// Get the company name for a valid TIN number
function getCompanyName($tin) {
    global $validTINs;
    return $validTINs[$tin];
}

// Check if a TIN number is provided in the request
if (isset($_GET['tin'])) {
    $tin = $_GET['tin'];

    // Validate the TIN number
    $isValidTIN = validateTIN($tin);

    // Prepare the response
    $response = array();

    if ($isValidTIN) {
        // If TIN is valid, return the company name
        $response['valid'] = true;
        $response['companyName'] = getCompanyName($tin);
        
    } else {
        // If TIN is not valid, return an error message
        $response['valid'] = false;
    }

    // Convert the response to JSON format
    header('Content-Type: application/json');
    echo json_encode($response);
} else {
    // If no TIN number is provided in the request, return an error
    echo 'Error: No TIN number provided';
}
?>
